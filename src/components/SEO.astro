---
type Props = {
  title?: string;
  description?: string;
  type?: 'website' | 'article';
  ogImage?: string;
};
const {
  title = 'SMooks â€” Education Systems & Transformation',
  description = 'Systems wins, playbooks, and writing by Sharron Mooks',
  type = 'website',
  ogImage,
} = Astro.props as Props;

const base = Astro.site?.toString() ?? 'https://smooks.co.uk';
const pathname = Astro.url.pathname.replace(/\/$/, ''); // drop trailing slash

let ogPath =
  ogImage ??
  (pathname.startsWith('/writing') ||
  pathname.startsWith('/system-wins') ||
  pathname.startsWith('/playbooks')
    ? `/og${pathname}.png`
    : '/og/default.png');

const ogUrl = new URL(ogPath, base).toString();
---

<!-- Title & Canonical -->
<title>{title}</title>
<meta name="description" content={description} />
<link rel="canonical" href={new URL(Astro.url.pathname, base).toString()} />

<!-- Open Graph / Twitter -->
<meta property="og:type" content={type} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:url" content={new URL(Astro.url.pathname, base).toString()} />
<meta property="og:image" content={ogUrl} />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content={ogUrl} />
